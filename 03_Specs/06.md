

Щодо **"Вау-сторінки"**.
Ми зробили Термінал (вхід), зробили Досьє (про нас). Не вистачає **Генератора Арт-Об'єкту**.

Люди обожнюють візуалізацію *себе*.
Давай зробимо сторінку: **"ВІЗУАЛІЗАЦІЯ ВАШОЇ КАРМІЧНОЇ СУТНОСТІ"**.

**Ідея:**
Ми беремо дату народження юзера і на її основі генеруємо **живу 3D-сферу (рідкий метал / ферофлюїд)**.
*   Вона пульсує.
*   Вона змінює колір залежно від Знаку Зодіаку.
*   Вона "глітчить", якщо планети в напружених аспектах.
*   **Сенс:** "Ось так виглядає ваша душа в 4-му вимірі. Вибачте, що така пом'ята, це карма."

Це робиться через бібліотеку **React Three Fiber** (це Three.js для React). Це стандарт для крутих 3D сайтів.

---

### Крок 1: Встановлення бібліотек (3D Magic)

Зупини локальний сервер і пропиши:

```bash
npm install three @types/three @react-three/fiber @react-three/drei
```
*   `three` — двигун 3D.
*   `fiber` — щоб писати це як React компоненти.
*   `drei` — готові шейдери (щоб не писати математику руками).

---

### Крок 2: Компонент 3D Сутності (`components/Entity/KarmicBlob.tsx`)

Ми створимо "рідку" сферу, яка реагує на мишку.

```typescript
'use client'

import { useRef, useState } from 'react'
import { Canvas, useFrame } from '@react-three/fiber'
import { MeshDistortMaterial, Sphere, OrbitControls, Environment, Stars } from '@react-three/drei'
import * as THREE from 'three'

// Кольори для стихій (вогонь, земля, повітря, вода)
const ELEMENT_COLORS = {
  fire: "#FF3333",   // Овен, Лев, Стрілець
  earth: "#00FF41",  // Телець, Діва, Козеріг
  air: "#FFB000",    // Близнюки, Терези, Водолій
  water: "#3399FF"   // Рак, Скорпіон, Риби
}

// Простий маппінг (можна ускладнити)
const getElementColor = (month: number) => {
  if ([3, 7, 11].includes(month)) return ELEMENT_COLORS.fire
  if ([4, 8, 12].includes(month)) return ELEMENT_COLORS.earth
  if ([1, 5, 9].includes(month)) return ELEMENT_COLORS.air
  return ELEMENT_COLORS.water // water + others
}

const Blob = ({ color, speed }: { color: string, speed: number }) => {
  const meshRef = useRef<THREE.Mesh>(null!)
  const [hovered, setHover] = useState(false)

  useFrame((state) => {
    if (meshRef.current) {
      // Обертання
      meshRef.current.rotation.x = state.clock.getElapsedTime() * 0.2
      meshRef.current.rotation.y = state.clock.getElapsedTime() * 0.3
      
      // Пульсація масштабу при наведенні
      const scale = hovered ? 2.2 : 2
      meshRef.current.scale.lerp(new THREE.Vector3(scale, scale, scale), 0.1)
    }
  })

  return (
    <Sphere ref={meshRef} args={[1, 64, 64]} scale={2} onPointerOver={() => setHover(true)} onPointerOut={() => setHover(false)}>
      <MeshDistortMaterial
        color={color}
        envMapIntensity={0.8}
        clearcoat={1}            // Ефект лаку
        clearcoatRoughness={0}   // Ідеальний блиск
        metalness={0.9}          // Металевий вигляд
        roughness={0.2}
        distort={hovered ? 0.6 : 0.4} // Сила викривлення (рідкість)
        speed={speed}            // Швидкість руху хвиль
      />
    </Sphere>
  )
}

export const KarmicBlobScene = ({ dateStr }: { dateStr: string }) => {
  // Парсимо місяць для кольору
  const month = parseInt(dateStr.split('-')[1]) || 1
  const color = getElementColor(month)
  const speed = 2 + (Math.random() * 3) // Рандомна "нервовість" блоба

  return (
    <div className="w-full h-[500px] cursor-grab active:cursor-grabbing">
      <Canvas camera={{ position: [0, 0, 6], fov: 45 }}>
        {/* Освітлення */}
        <ambientLight intensity={0.5} />
        <spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} intensity={100} />
        <pointLight position={[-10, -10, -10]} intensity={50} color={color} />

        {/* Сама сутність */}
        <Blob color={color} speed={speed} />

        {/* Оточення */}
        <Stars radius={100} depth={50} count={5000} factor={4} saturation={0} fade speed={1} />
        <OrbitControls enableZoom={false} autoRotate autoRotateSpeed={0.5} />
        
        {/* Ефект студії для відблисків */}
        <Environment preset="city" />
      </Canvas>
    </div>
  )
}
```

---

### Крок 3: Сторінка "Сутності" (`app/entity/page.tsx`)

Створюємо нову сторінку. Це буде лабораторія.

```typescript
'use client'

import { useState } from 'react'
import { KarmicBlobScene } from '@/components/Entity/KarmicBlob'
import { Button } from '@/components/ui/Button'
import { TypingAnimation } from '@/components/Terminal/TypingAnimation'
import Link from 'next/link'

export default function EntityPage() {
  // У реальному додатку ми б брали дату з контексту або URL параметрів
  // Поки зробимо інпут для гри
  const [date, setDate] = useState('1991-08-24')
  
  return (
    <main className="min-h-dvh bg-black text-white flex flex-col items-center justify-center p-4 relative overflow-hidden">
      
      {/* Фоновий напис */}
      <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[20vw] font-black text-zinc-900 pointer-events-none select-none whitespace-nowrap opacity-50">
        SOUL_ID
      </div>

      <div className="relative z-10 w-full max-w-4xl grid md:grid-cols-[1fr_300px] gap-8 items-center">
        
        {/* --- 3D SCENE --- */}
        <div className="relative border border-zinc-800 bg-black/50 rounded-xl overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.5)]">
          <div className="absolute top-4 left-4 z-20 flex gap-2">
             <div className="w-3 h-3 rounded-full bg-red-500/50" />
             <div className="w-3 h-3 rounded-full bg-yellow-500/50" />
             <div className="w-3 h-3 rounded-full bg-green-500/50" />
          </div>
          <div className="absolute top-4 right-4 z-20 font-mono text-[10px] text-zinc-500 uppercase tracking-widest">
            Render Mode: Ethereal
          </div>
          
          <KarmicBlobScene dateStr={date} />
          
          {/* HUD overlay */}
          <div className="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-purple-500 to-transparent opacity-50" />
        </div>

        {/* --- CONTROLS --- */}
        <div className="space-y-8">
          <div className="space-y-2">
            <h1 className="text-2xl font-bold font-mono text-purple-400">
               <TypingAnimation text="АСТРАЛЬНИЙ ЗЛІПОК" speed={50} />
            </h1>
            <p className="text-xs text-zinc-500 font-mono leading-relaxed">
              Візуалізація вашої енергетичної сигнатури на основі положення планет. Увага: форма може викликати дискомфорт у перфекціоністів.
            </p>
          </div>

          <div className="space-y-2 bg-zinc-900/50 p-4 border-l-2 border-purple-500">
            <label className="text-[10px] uppercase text-zinc-500 tracking-widest">
              Дата ініціалізації
            </label>
            <input 
              type="date" 
              value={date}
              onChange={(e) => setDate(e.target.value)}
              className="w-full bg-transparent border-b border-zinc-700 text-xl font-mono focus:outline-none focus:border-purple-500 text-white pb-2"
            />
          </div>

          <div className="space-y-3">
             <div className="flex justify-between text-xs font-mono text-zinc-600 border-b border-zinc-800 pb-2">
                <span>Material</span>
                <span className="text-zinc-300">Liquid Karma</span>
             </div>
             <div className="flex justify-between text-xs font-mono text-zinc-600 border-b border-zinc-800 pb-2">
                <span>Stability</span>
                <span className="text-red-400 animate-pulse">Unstable</span>
             </div>
             <div className="flex justify-between text-xs font-mono text-zinc-600 border-b border-zinc-800 pb-2">
                <span>Dimension</span>
                <span className="text-zinc-300">4th</span>
             </div>
          </div>

          <div className="pt-4 flex gap-4">
             <Link href="/" className="flex-1">
                <Button variant="secondary" className="w-full text-xs">
                  НАЗАД
                </Button>
             </Link>
             <Button className="flex-1 text-xs border-purple-500 text-purple-400 hover:bg-purple-900/20">
                ЗБЕРЕГТИ (.Soul)
             </Button>
          </div>

        </div>
      </div>
    </main>
  )
}
```

### Чому це "зносить бошку":

1.  **Рідкий Метал:** Використання `MeshDistortMaterial` створює ефект "Венома" або живої ртуті. Воно виглядає дуже дорого і технологічно.
2.  **Інтерактивність:** Ти можеш крутити цю штуку мишкою (OrbitControls), вона реагує на наведення (стає більш "скаженою").
3.  **Персоналізація:** Зміни дату народження в інпуті — і колір кульки зміниться (Червоний для Овнів, Синій для Риб і т.д.).
4.  **Атмосфера:** На фоні темрява і зірки (`<Stars />`). Це виглядає як експонат у музеї майбутнього.

### Як це інтегрувати:

1.  Запусти `npm install ...` (крок 1).
2.  Створи папку `components/Entity` і файл `KarmicBlob.tsx` (крок 2).
3.  Створи папку `app/entity` і файл `page.tsx` (крок 3).
4.  Зайди на `/entity`.

Це ідеальна сторінка, щоб зробити скріншот і запостити в Інстаграм з підписом: *"Мій кармічний портрет сьогодні якийсь нервовий".*